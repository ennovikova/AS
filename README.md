# AS
Модификация алгоритма маркет-мейкинга Avellaneda-Stoikov путём внедрения линейных моделей машинного обучения, способных к онлайн-обучению на потоке данных с биржи. Используется 
Ridge регрессия для предсказания мид прайса, на основе которого высчитывается резервационная цена, на 100 мс вперёд и Elastic Net для волатильности, которая обновляется раз в минуту. В ноутбуках "Mid price prediction" и "Volatility" можно найти тестирование различных моделей машинного обучения на исторических данных.
Был проведён анализ лаговых корреляций между активами, который не выявил устойчивых лаговых взаимосвязей между ценами акций. Кроме того, при тестировании моделей машиного обучения было выявлено, что включение в модель кросс-фичей не даёт никакого значимого улучшения.

Был проведён анализ ликвидностей, который подтвердил гипотезу о том, что около 00 минут каждого часа происходит скачок ликвидности, который для более популярных активов проявляется как более широкое окно высокой ликвидности относительно 00 минут.

Тестирование модифицированного алгоритма на исторических данных показало, что при увеличении параметра риск-аверсии результаты тестирования стратегий начинают расходиться. На исторических данных, как и на сгенерированных, симметричная стратегия даёт, в среднем, больший PnL, но с большим стандартным отклонением, чем у инвентарной. Плюс инвентарной стратегии - возможность калибровки параметра риск-аверсии для максимизации Sharpe Ratio (нужно подобрать параметр гамма так, чтобы найти наиболее оптимальное соотношение ожидаемой доходности к риску), это будет завершающий шаг в исследовании.

Дальнейшие шаги:

1. Попробовать модель TabNet предсказания мидпрайса и волатильности
2. Попробовать скомбинировать Elastic Net с трансформером
3. Сделать возможным онлайн-обучение модели
4. Подумать над внедрением среднесрочных и долгосрочных временных фичей: новости, перерывы на других биржах, реакция ликвидности активов на приближение :00 минут каждого часа, и т.д.
5. Написать пайплайн калибровки интенсивности исполнения заявок по данным сделок и внедрить его в алгоритм
6. Полный бэктест на большой выборке (нужны актуальные данные)
7. Калибровка параметра риск-аверсии для максимизации Sharpe Ratio
